<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>UNBSSAuthenticationAction - NB SubscribeStar API Integration</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">NB SubscribeStar API Integration</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="class-unbssauthenticationaction"><a class="header" href="#class-unbssauthenticationaction"><strong>Class: <code>UNBSSAuthenticationAction</code></strong></a></h1>
<pre><code class="language-cpp">//  NBSSAuthenticationAction.h : 53

class NBSUBSCRIBESTARAPICLIENT_API UNBSSAuthenticationAction
    : public UCancellableAsyncAction;
</code></pre>
<hr />
<p><strong><em>Reflection-enabled</em></strong></p>
<hr />
<p>This action can be used to perform authentication with the SubscribeStar API.</p>
<p>The user will be directed to a web page to allow them to sign in and give
permission to your application to access some of their data.</p>
<p>A local HTTP server will be started to receive the authentication response
from SubscribeStar, and finally a request will be made to obtain an access
token for the authenticated user.</p>
<p>The returned access token can be used to make additional requests to the
SubscribeStar API, e.g. to obtain information about the authenticated user and
their subscription to determine if specific content should be unlocked for them.</p>
<h3 id="important-note"><a class="header" href="#important-note">IMPORTANT NOTE:</a></h3>
<blockquote>
<p>Because everything is being handled within the same process,
using this action requires that the application have a copy
of your <code>client_id</code> and <code>client_secret</code>, both of which will be
included in HTTP requests sent to SubscribeStar from the user's
computer. This means that the user may be able to extract these
values either from the packaged binaries or by analyzing their
network traffic during the authentication process.</p>
</blockquote>
<p>You should always configure the integration in your SubscribeStar
profile to use the minimum number of scopes possible, and in
general you should ensure no <code>content_provider_profile.*</code> scopes
are enabled or else you might be exposing YOUR information to
your users! If you have multiple API clients (e.g. a game using
this plugin and a project website which connects to the SubscribeStar
API) then you should use separate <code>client_id</code>s for them rather than
sharing the same <code>client_id</code> across all clients.</p>
<hr />
<h1 id="properties"><a class="header" href="#properties"><strong>Properties</strong></a></h1>
<ul>
<li>
<h1 id="oncomplete"><a class="header" href="#oncomplete"><strong><code>OnComplete</code></strong></a></h1>
<pre><code class="language-cpp">public:
FNBPerformSSAuthenticationActionEvent OnComplete;
</code></pre>
<hr />
<p><strong><em>Reflection-enabled</em></strong></p>
<h3 id="specifiers"><a class="header" href="#specifiers">Specifiers:</a></h3>
<ul>
<li><strong>BlueprintAssignable</strong></li>
</ul>
<hr />
  <summary>
  Event invoked when authentication is completed successfully
  </summary>
</li>
<li>
<h1 id="onfail"><a class="header" href="#onfail"><strong><code>OnFail</code></strong></a></h1>
<pre><code class="language-cpp">public:
FNBPerformSSAuthenticationActionFailedEvent OnFail;
</code></pre>
<hr />
<p><strong><em>Reflection-enabled</em></strong></p>
<h3 id="specifiers-1"><a class="header" href="#specifiers-1">Specifiers:</a></h3>
<ul>
<li><strong>BlueprintAssignable</strong></li>
</ul>
<hr />
  <summary>
  Event invoked if authentication fails for any reason
  </summary>
</li>
</ul>
<hr />
<h1 id="methods"><a class="header" href="#methods"><strong>Methods</strong></a></h1>
<ul>
<li>
<h1 id="activate"><a class="header" href="#activate"><strong><code>Activate</code></strong></a></h1>
<pre><code class="language-cpp">//  NBSSAuthenticationAction.h : 124

public:
virtual void Activate() override;
</code></pre>
  <details>
  <summary>
<p>Starts the task</p>
  </summary>
  </details>
</li>
<li>
<h1 id="cancel"><a class="header" href="#cancel"><strong><code>Cancel</code></strong></a></h1>
<pre><code class="language-cpp">//  NBSSAuthenticationAction.h : 129

public:
virtual void Cancel() override;
</code></pre>
  <details>
  <summary>
<p>Can be called to cancel the task and prevent callbacks from being called</p>
  </summary>
  </details>
</li>
<li>
<h1 id="makeauthuri"><a class="header" href="#makeauthuri"><strong><code>MakeAuthURI</code></strong></a></h1>
<pre><code class="language-cpp">//  NBSSAuthenticationAction.h : 104

public:
static FString MakeAuthURI(
    const FString ClientID,
    const FString CallbackURI,
    FString Scopes
);
</code></pre>
  <details>
<hr />
<p><strong><em>Reflection-enabled</em></strong></p>
<h3 id="specifiers-2"><a class="header" href="#specifiers-2">Specifiers:</a></h3>
<ul>
<li><strong>BlueprintCallable</strong></li>
<li><strong>Category</strong> = <em>NBSubscribeStarAPIClient|HTTP</em></li>
</ul>
<h3 id="meta-specifiers"><a class="header" href="#meta-specifiers">Meta Specifiers:</a></h3>
<ul>
<li><strong>DisplayName</strong> = <em>Make SubscribeStar Auth URI</em></li>
<li><strong>Keywords</strong> = <em>NBSubscribeStarAPIClient</em></li>
</ul>
  <summary>
<p>Constructs a URI to the SubscribeStar login/consent page.
This should be used to allow the user to authenticate with SubscribeStar in a web browser.</p>
  </summary>
<hr />
<h1 id="arguments"><a class="header" href="#arguments"><strong>Arguments</strong></a></h1>
<ul>
<li>
<h2 id="clientid"><a class="header" href="#clientid"><strong><code>ClientID</code></strong></a></h2>
<pre><code class="language-cpp">const FString ClientID
</code></pre>
<p>SubscribeStar app Client ID</p>
</li>
<li>
<h2 id="callbackuri"><a class="header" href="#callbackuri"><strong><code>CallbackURI</code></strong></a></h2>
<pre><code class="language-cpp">const FString CallbackURI
</code></pre>
<p>URI to redirect the user to after successfully authenticating</p>
</li>
<li>
<h2 id="scopes"><a class="header" href="#scopes"><strong><code>Scopes</code></strong></a></h2>
<pre><code class="language-cpp">FString Scopes
</code></pre>
<p>Scopes to request access to. See: https://subscribestar.com/api#integration</p>
</li>
</ul>
<hr />
<h1 id="returns"><a class="header" href="#returns"><strong>Returns</strong></a></h1>
<ul>
<li>
<pre><code class="language-cpp">FString
</code></pre>
<p>Auth URI, ready to be passed to a web browser</p>
</li>
</ul>
  </details>
</li>
<li>
<h1 id="performauthenticationasyncaction"><a class="header" href="#performauthenticationasyncaction"><strong><code>PerformAuthenticationAsyncAction</code></strong></a></h1>
<pre><code class="language-cpp">//  NBSSAuthenticationAction.h : 68

public:
static UNBSSAuthenticationAction* PerformAuthenticationAsyncAction(
    const UObject* WorldContext,
    const FString ClientID,
    const FString ClientSecret,
    const FString Scopes = TEXT("subscriber.read+user.read"),
    const FString CallbackRoute = TEXT("/login"),
    const int32 CallbackPort = 8080
);
</code></pre>
  <details>
<hr />
<p><strong><em>Reflection-enabled</em></strong></p>
<h3 id="specifiers-3"><a class="header" href="#specifiers-3">Specifiers:</a></h3>
<ul>
<li><strong>BlueprintCallable</strong></li>
<li><strong>Category</strong> = <em>NBSubscribeStarAPIClient</em></li>
</ul>
<h3 id="meta-specifiers-1"><a class="header" href="#meta-specifiers-1">Meta Specifiers:</a></h3>
<ul>
<li><strong>DisplayName</strong> = <em>Perform Authentication</em></li>
<li><strong>Keywords</strong> = <em>NBSubscribeStarAPIClient</em></li>
<li><strong>WorldContext</strong> = <em>WorldContext</em></li>
<li><strong>BlueprintInternalUseOnly</strong> = <em>true</em></li>
</ul>
  <summary>
<p>Performs OAuth login to SubscribeStar using the user's default web browser</p>
  </summary>
<hr />
<h1 id="arguments-1"><a class="header" href="#arguments-1"><strong>Arguments</strong></a></h1>
<ul>
<li>
<h2 id="worldcontext"><a class="header" href="#worldcontext"><strong><code>WorldContext</code></strong></a></h2>
<pre><code class="language-cpp">const UObject* WorldContext
</code></pre>
</li>
<li>
<h2 id="clientid-1"><a class="header" href="#clientid-1"><strong><code>ClientID</code></strong></a></h2>
<pre><code class="language-cpp">const FString ClientID
</code></pre>
<p>SubscribeStar App client_id</p>
</li>
<li>
<h2 id="clientsecret"><a class="header" href="#clientsecret"><strong><code>ClientSecret</code></strong></a></h2>
<pre><code class="language-cpp">const FString ClientSecret
</code></pre>
<p>SubscribeStar App client_secret</p>
</li>
<li>
<h2 id="scopes-1"><a class="header" href="#scopes-1"><strong><code>Scopes</code></strong></a></h2>
<pre><code class="language-cpp">const FString Scopes = TEXT("subscriber.read+user.read")
</code></pre>
<p>List of scopes to request access to, separated by <code>+</code>. Should be a subset of the scopes you have configured your app for.</p>
</li>
<li>
<h2 id="callbackroute"><a class="header" href="#callbackroute"><strong><code>CallbackRoute</code></strong></a></h2>
<pre><code class="language-cpp">const FString CallbackRoute = TEXT("/login")
</code></pre>
<p>URL fragment (after hostname and port) to expect the login callback to invoke</p>
</li>
<li>
<h2 id="callbackport"><a class="header" href="#callbackport"><strong><code>CallbackPort</code></strong></a></h2>
<pre><code class="language-cpp">const int32 CallbackPort = 8080
</code></pre>
<p>Port to listen on for the login callback</p>
</li>
</ul>
<hr />
<h1 id="returns-1"><a class="header" href="#returns-1"><strong>Returns</strong></a></h1>
<ul>
<li>
<pre><code class="language-cpp">UNBSSAuthenticationAction*
</code></pre>
</li>
</ul>
  </details>
</li>
<li>
<h1 id="performauthenticationumgasyncaction"><a class="header" href="#performauthenticationumgasyncaction"><strong><code>PerformAuthenticationUMGAsyncAction</code></strong></a></h1>
<pre><code class="language-cpp">//  NBSSAuthenticationAction.h : 88

public:
static UNBSSAuthenticationAction* PerformAuthenticationUMGAsyncAction(
    const UObject* WorldContext,
    UWebBrowser* BrowserWidget,
    const FString ClientID,
    const FString ClientSecret,
    const FString Scopes = TEXT("subscriber.read+user.read"),
    const FString CallbackRoute = TEXT("/login"),
    const int32 CallbackPort = 8080
);
</code></pre>
  <details>
<hr />
<p><strong><em>Reflection-enabled</em></strong></p>
<h3 id="specifiers-4"><a class="header" href="#specifiers-4">Specifiers:</a></h3>
<ul>
<li><strong>BlueprintCallable</strong></li>
<li><strong>Category</strong> = <em>NBSubscribeStarAPIClient</em></li>
</ul>
<h3 id="meta-specifiers-2"><a class="header" href="#meta-specifiers-2">Meta Specifiers:</a></h3>
<ul>
<li><strong>DisplayName</strong> = <em>Perform Authentication (UMG Browser)</em></li>
<li><strong>Keywords</strong> = <em>NBSubscribeStarAPIClient</em></li>
<li><strong>WorldContext</strong> = <em>WorldContext</em></li>
<li><strong>BlueprintInternalUseOnly</strong> = <em>true</em></li>
</ul>
  <summary>
<p>Performs OAuth login to SubscribeStar using a UMG <a href="https://dev.epicgames.com/documentation/en-us/unreal-engine/API/Plugins/WebBrowserWidget">WebBrowser</a> widget.
(Requires the <code>WebBrowser</code> plugin to be enabled in your project)</p>
  </summary>
<hr />
<h1 id="arguments-2"><a class="header" href="#arguments-2"><strong>Arguments</strong></a></h1>
<ul>
<li>
<h2 id="worldcontext-1"><a class="header" href="#worldcontext-1"><strong><code>WorldContext</code></strong></a></h2>
<pre><code class="language-cpp">const UObject* WorldContext
</code></pre>
</li>
<li>
<h2 id="browserwidget"><a class="header" href="#browserwidget"><strong><code>BrowserWidget</code></strong></a></h2>
<pre><code class="language-cpp">UWebBrowser* BrowserWidget
</code></pre>
<p>Widget to use to display the login page</p>
</li>
<li>
<h2 id="clientid-2"><a class="header" href="#clientid-2"><strong><code>ClientID</code></strong></a></h2>
<pre><code class="language-cpp">const FString ClientID
</code></pre>
<p>SubscribeStar App client_id</p>
</li>
<li>
<h2 id="clientsecret-1"><a class="header" href="#clientsecret-1"><strong><code>ClientSecret</code></strong></a></h2>
<pre><code class="language-cpp">const FString ClientSecret
</code></pre>
<p>SubscribeStar App client_secret</p>
</li>
<li>
<h2 id="scopes-2"><a class="header" href="#scopes-2"><strong><code>Scopes</code></strong></a></h2>
<pre><code class="language-cpp">const FString Scopes = TEXT("subscriber.read+user.read")
</code></pre>
<p>List of scopes to request access to, separated by <code>+</code>. Should be a subset of the scopes you have configured your app for.</p>
</li>
<li>
<h2 id="callbackroute-1"><a class="header" href="#callbackroute-1"><strong><code>CallbackRoute</code></strong></a></h2>
<pre><code class="language-cpp">const FString CallbackRoute = TEXT("/login")
</code></pre>
<p>URL fragment (after hostname and port) to expect the login callback to invoke</p>
</li>
<li>
<h2 id="callbackport-1"><a class="header" href="#callbackport-1"><strong><code>CallbackPort</code></strong></a></h2>
<pre><code class="language-cpp">const int32 CallbackPort = 8080
</code></pre>
<p>Port to listen on for the login callback</p>
</li>
</ul>
<hr />
<h1 id="returns-2"><a class="header" href="#returns-2"><strong>Returns</strong></a></h1>
<ul>
<li>
<pre><code class="language-cpp">UNBSSAuthenticationAction*
</code></pre>
</li>
</ul>
  </details>
</li>
</ul>
<p><br/><br/>
<br/><br/></p>
<hr />
<blockquote>
<p>For any questions, help, suggestions or feature requests, please feel free to contact me at <a href="mailto:nbpsup@gmail.com">nbpsup@gmail.com</a></p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../reference/classes/UNBQuerySubscribeStarAPIAction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../reference/classes/UNBSSGetUserInfoAction.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../reference/classes/UNBQuerySubscribeStarAPIAction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../reference/classes/UNBSSGetUserInfoAction.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
